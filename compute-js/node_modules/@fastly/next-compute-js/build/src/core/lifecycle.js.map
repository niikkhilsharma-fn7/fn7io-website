{"version":3,"file":"lifecycle.js","sourceRoot":"","sources":["../../../src/core/lifecycle.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,iCAAqD;AAErD,SAAgB,mBAAmB,CAAC,QAAgB,EAAE,EAA+B;IACnF,IAAA,gBAAS,EAAC,YAAY,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;AACxC,CAAC;AAFD,kDAEC;AAED,IAAA,aAAM,EAAC,GAAG,EAAE;IACV,2EAA2E;IAC3E,4FAA4F;IAC5F,gBAAgB,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;QAChC,IAAA,eAAQ,EAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/*\n * Copyright Fastly, Inc.\n * Licensed under the MIT license. See LICENSE file for details.\n */\n\nimport { addAction, doAction, onInit } from './util';\n\nexport function addFetchEventAction(priority: number, fn: (event: FetchEvent) => void) {\n  addAction('fetchEvent', priority, fn);\n}\n\nonInit(() => {\n  // The intent is for this event listener (and therefore all functions added\n  // by addFetchEventAction) to happen before the event listener provided by the consumer app.\n  addEventListener('fetch', event => {\n    doAction('fetchEvent', event);\n  });\n});\n"]}