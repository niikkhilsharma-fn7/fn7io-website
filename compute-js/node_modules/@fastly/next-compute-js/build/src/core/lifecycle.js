"use strict";
/*
 * Copyright Fastly, Inc.
 * Licensed under the MIT license. See LICENSE file for details.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.addFetchEventAction = void 0;
const util_1 = require("./util");
function addFetchEventAction(priority, fn) {
    (0, util_1.addAction)('fetchEvent', priority, fn);
}
exports.addFetchEventAction = addFetchEventAction;
(0, util_1.onInit)(() => {
    // The intent is for this event listener (and therefore all functions added
    // by addFetchEventAction) to happen before the event listener provided by the consumer app.
    addEventListener('fetch', event => {
        (0, util_1.doAction)('fetchEvent', event);
    });
});
//# sourceMappingURL=lifecycle.js.map